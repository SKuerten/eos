#!/bin/bash
#vim: set sts=4 et :

source ${EOS_SCRIPT_PATH}/job.bash

export MCMC_PRERUN_SAMPLES=30000
export MCMC_PRERUN_UPDATE_SIZE=750
export MCMC_PRERUN_CHAINS=1
export MCMC_PRERUN_PARALLEL=0

export PMC_FINAL_CHUNKSIZE=1000000
export PMC_CLUSTERS=35

export PMC_NUMBER_OF_JOBS=100

## 2013-08-04
## six groups (11 9 9 3 15 1)
# group  chain                                         sign     MAP
# 0      00,03,05,09,23,25,27,34,35,37,39              (+,-,+)  126.41
# 1      01,02,06,14,15,18,21,42,44                    (+,-,-)  125.21
# 2      04,08,17,22,26,29,31,40,45                    (-,+,+)  125.10
# 3      07,24 (46 does not match the others!)         (+,+,-)  115.02
# 4      10,11,12,13,16,19,20,30,32,33,36,38,41,43,47  (-,+,-)  126.87
# 5      28                                            (-,-,-)   87.66
## best fit in chain 16 (log posterior = 126.8735316)
## "{ -0.35034 +1.88287 -4.45714 +0.80542 +0.22553 +0.12001 +0.32749 +1.25668 +4.19026 +0.22886 +0.32709 -4.61334 +0.94140 +0.90598 +0.28806 +0.69796 +0.22401 -1.33207 -0.04213 +0.19186 -0.00320 +1.05743 +0.99511 +1.11921 +1.03256 +0.40600 +0.34414 }"

export GOF_MODE_0="{ +0.52543 -1.11757 +4.36979 +0.80151 +0.22559 +0.11386 +0.39185 +1.25813 +4.18130 +0.22365 +0.26449 -4.83504 +1.07152 +1.12250 +0.27462 +0.89676 +0.17417 -0.00943 -0.00729 +0.07788 +0.15039 +1.00192 +1.14052 +1.06301 +0.94189 +0.37371 +0.34516 }"
export GOF_MODE_1="{ +0.50857 -8.10312 -4.06421 +0.81637 +0.22555 +0.10036 +0.34854 +1.27227 +4.15948 +0.22748 +0.31165 -4.81780 +0.93861 +0.94496 +0.18076 -0.10306 +0.22853 -0.05888 -0.05901 +0.03221 -0.15748 +0.92710 +1.03005 +0.93570 +1.15458 +0.40788 +0.33922 }"
export GOF_MODE_2="{ -0.34457 +7.01591 +4.07418 +0.79475 +0.22558 +0.14854 +0.37590 +1.27365 +4.18230 +0.22500 +0.34476 -4.17694 +0.91712 +1.04720 +0.21795 +1.27148 +0.28335 +0.05056 -0.07461 +0.12503 -0.03058 +0.94230 +1.06223 +0.94760 +1.01817 +0.41372 +0.35059 }"
export GOF_MODE_3="{ +0.50753 +2.67954 -1.62325 +0.81163 +0.22500 +0.12786 +0.39965 +1.24857 +4.18588 +0.22672 +0.47136 -3.94291 +0.65395 +1.15948 +0.18921 +1.33755 +0.24753 -0.06723 -0.05408 -0.02127 -0.08499 +0.95996 +0.94483 +0.75141 +1.22054 +0.47561 +0.33415 }"
export GOF_MODE_4="{ -0.35034 +1.88287 -4.45714 +0.80542 +0.22553 +0.12001 +0.32749 +1.25668 +4.19026 +0.22886 +0.32709 -4.61334 +0.94140 +0.90598 +0.28806 +0.69796 +0.22401 -1.33207 -0.04213 +0.19186 -0.00320 +1.05743 +0.99511 +1.11921 +1.03256 +0.40600 +0.34414 }"
export GOF_MODE_5="{ -0.35048 -12.94643 -5.75246 +0.86366 +0.22471 +0.23341 +0.20874 +1.26107 +4.09688 +0.23296 +0.48153 -3.20643 +0.67047 +0.67273 +0.34690 +0.99763 +0.49222 +2.77296 -0.39576 -0.12693 +0.26241 +0.79579 +1.07147 +0.67031 +0.60606 +0.27641 +0.31742 }"

# just let them die out in first step
# export PMC_IGNORE_GROUPS="
#     --pmc-ignore-group 0
#     --pmc-ignore-group 1
#     --pmc-ignore-group 3
#     --pmc-ignore-group 4
# "


main $@
