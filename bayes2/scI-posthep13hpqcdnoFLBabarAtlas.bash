#!/bin/bash
#vim: set sts=4 et :

source ${EOS_SCRIPT_PATH}/job.bash

export MCMC_PRERUN_SAMPLES=40000
export MCMC_PRERUN_UPDATE_SIZE=500
export MCMC_PRERUN_CHAINS=1
export MCMC_PRERUN_PARALLEL=0

export PMC_FINAL_CHUNKSIZE=1000000
export PMC_CLUSTERS=35
export PMC_CONVERGENCE="$PMC_CONVERGENCE --pmc-crop-highest-weights 200"

export PMC_NUMBER_OF_JOBS=100
export PMC_RESOURCE_MANAGER=loadleveler
export LL_QUEUE=test
export LL_FINAL_QUEUE=serial
export PMC_POLLING_INTERVAL=30

# initial values from sm
export GOF_MODE_0="{
 -0.3546027671131614 +4.0986066180374241 -4.2317102669746847
 +0.7851942356740576 +0.2254947201159309 +0.1103088618584480
 +0.3479846088633917 +1.2838396138474035 +4.1986581851918912
 +0.2315575898997383 +0.3883707126904543 -4.7077587113122741
 +0.8315418482529660 +1.1556499429215372 +0.2664593004883700
 +0.2986359244734177 +0.2601067024609786 -1.5172049771046485
 +0.0398769404022141 -0.0416701756592609 -0.0433318716290815
 +0.9370868281078932 +0.9744709390418705 +1.1010844199374976
 +1.0814805402486463 +0.3024636621051395 -3.2666406391667389
 +0.1120239754364055 -0.1677106468687472 +0.4902446441646485
 +0.3509040223490649 }"
export GOF_MODE_1="{
 +0.5016726921540386 -4.7643876761441541 +4.1706391802690082
 +0.8108396964890628 +0.2254554727646118 +0.0920627545253973
 +0.3861506589341814 +1.2830057797035552 +4.1927016125381229
 +0.2294976178498767 +0.3676257896529777 -4.7815949718853075
 +0.8260433295542460 +1.0550980945493491 +0.2609715415163944
 +0.1832163106320194 +0.2643707743425492 -1.0217058938461776
 -0.0732907211970767 -0.0173336862086484 -0.0041938149494817
 +0.9668122247572840 +1.0807403161909273 +1.0239301712259832
 +1.0998321920041905 +0.3107039323127256 -3.0275937416381873
 -0.0510916463937295 +0.8276469466196411 +0.4508464078943176
 +0.3505560939200313 }"

# optimization with BOBYQA
export GOF_MODE_0="{
 -0.3558858379746710 +4.1676929746885998 -4.1383879415277365
 +0.7872207065059947 +0.2255662291159603 +0.1056945080904117
 +0.3470671917039279 +1.2841555329779637 +4.1991069432335966
 +0.2311880106221052 +0.3828771069844240 -4.7045719617840458
 +0.8342611982234023 +0.9459051869647954 +0.2663534939215440
 +0.2924338465141170 +0.2464757184353005 -1.5101390392935909
 +0.0373113482426029 -0.0431105641213886 -0.0439902324309566
 +0.9501049594078345 +0.9737332745810126 +1.0887470515455209
 +1.0484782861912738 +0.3027996115365636 -3.2738461157785386
 +0.0962201096250802 -0.2447105686427191 +0.4652206200936129
 +0.3507311237557092 }"

export GOF_MODE_1="{
 +0.5083197097734676 -4.9201898503621546 +4.0968602542050663
 +0.8103390235399253 +0.2254533837816502 +0.0975882732038864
 +0.3871257140890785 +1.2813295672867926 +4.1862999485975330
 +0.2283976044955409 +0.3609065671075019 -4.7851954837243627
 +0.8282179771376701 +1.0273973404390766 +0.2607244203605597
 +0.1755428530195494 +0.2502596187080353 -1.4832665961160219
 -0.0718543125704721 -0.0204392009924702 +0.0020913296306210
 +0.9853371745812797 +1.0791515330670669 +1.0239445452531497
 +0.9090209166728100 +0.3089252087389171 -2.9521191511052214
 -0.0494199725707835 +0.8298757008992151 +0.4507048302108431
 +0.3498917278859400 }"

main $@
