#!/bin/bash
#vim: set sts=4 et :

source ${EOS_SCRIPT_PATH}/job.bash

export MCMC_PRERUN_SAMPLES=40000
export MCMC_PRERUN_UPDATE_SIZE=1000
export MCMC_PRERUN_CHAINS=1
export MCMC_PRERUN_PARALLEL=0

export PMC_FINAL_CHUNKSIZE=1000000
export PMC_CLUSTERS=35
export PMC_CONVERGENCE="$PMC_CONVERGENCE --pmc-crop-highest-weights 200"

export PMC_NUMBER_OF_JOBS=250
export PMC_RESOURCE_MANAGER=loadleveler
export LL_QUEUE=test
export LL_FINAL_QUEUE=serial
export PMC_POLLING_INTERVAL=30

# initial points from mcmc
export GOF_MODE_0="{ -0.3461836656850719 +3.9411810916079588 -4.4030391482645515 +0.8090938310503027 +0.2254344775697953 +0.1951128996248591 +0.4131932119843480 +1.2893151440856547 +4.1669582765808872 +0.2258291187742063 +0.3857938431037043 -4.8304353191849465 +0.8375271651885625 +1.0944215614092254 +0.2445818111295795 +0.2234185400079698 +0.2138747746160848 -0.3165443770633358 +0.0661987126419740 -0.0485122428309034 +0.0722892741849216 +0.8358674243729898 +1.1105595191902806 +1.2293292283645516 +0.9522723930152385 +0.2920944754833845 -3.3387187520857027 +0.0750813758598301 -0.3016103012874828 +0.4474947967257834 +0.3492875637014373 }"
export GOF_MODE_1="{ +0.5020606297001582 -4.5329922413726411 +4.2058275563205676 +0.8226106362801960 +0.2259475732587190 +0.0597576272171423 +0.3585544705720561 +1.2546327426694734 +4.1845633729710938 +0.2256122152771805 +0.3800955948966467 -4.8565284850049313 +0.7796985949189413 +1.0247728306199790 +0.2480778526514845 +0.1601549583345939 +0.2220626339932371 -1.6716456247353877 -0.1972289886341667 -0.0331942730053291 -0.0044256848488813 +0.8751901593515833 +1.0716256426685422 +1.0053565282150569 +0.9629065581936158 +0.2950265614827765 -3.4339718414015663 -0.0652718678401561 +0.1141022139787646 +0.4294043741399765 +0.3486381525286580 }"

# BOBYQA
export GOF_MODE_0="{
 -0.3484417130224634 +3.7872265922875417 -4.4205301917134605
 +0.8061710226966564 +0.2254929220988559 +0.1127074239923765
 +0.4056046645906476 +1.2838396082590919 +4.1681145326194420
 +0.2256085398054798 +0.3920778462154523 -4.8516304958458596
 +0.8232539616347022 +1.1003590549838169 +0.2527976503159303
 +0.4293071416991858 +0.2331510129736889 -0.5087953443972568
 +0.0212959364507302 -0.0437449062631943 +0.0609426235232233
 +0.8478708724860566 +1.0849682154975748 +1.2020826175968626
 +0.9591762761981709 +0.2999167428662676 -3.2381147103047199
 +0.0470712303176744 -0.3235808551030349 +0.4520400778713296
 +0.3490959249384470 }"

# COBYLA
export GOF_MODE_1="{
 +0.5021320351835129 -4.5684572448114498 +4.2512928197067454
 +0.8196666201200060 +0.2258486613644682 +0.1101315860825733
 +0.3564561676177509 +1.2928907994828611 +4.1753550201203868
 +0.2258998006808759 +0.3825698870407546 -4.9541057784865732
 +0.7868445029766856 +1.0197607692157886 +0.2460803343558005
 +0.1582512286187313 +0.2211588799367264 -1.5083521681686338
 +0.0236268773751063 -0.0340660701597515 +0.0176064306468757
 +0.8501748142683659 +1.0532920458290393 +1.0196048549091850
 +0.9590298612727374 +0.2934460032601333 -3.3686447202424148
 -0.0587935755328279 +0.1015278141789341 +0.4294604833719192
 +0.3493616714047636 }"

main $@
