#!/bin/bash
#vim: set sts=4 et :

source ${EOS_SCRIPT_PATH}/job.bash

export MCMC_PRERUN_SAMPLES=20000
export MCMC_PRERUN_UPDATE_SIZE=500
export MCMC_PRERUN_CHAINS=1
export MCMC_PRERUN_PARALLEL=0

export PMC_CHUNKSIZE=1500
export PMC_GROUP_BY_RVALUE=2
export PMC_FINAL_CHUNKSIZE=1000000
export PMC_CLUSTERS=25
export PMC_INITIALIZATION="$PMC_INITIALIZATION --pmc-r-value-no-nuisance 0"
export PMC_CONVERGENCE="$PMC_CONVERGENCE --pmc-crop-highest-weights 50"
export PMC_SKIP_INITIAL=0.2

# starting points
export GOF_MODE_0="{ +0.82287 +0.22534 +0.10968 +0.38403 +1.25679 +4.18721 +0.22621 +0.37649 -4.66573 +0.86474 +1.16956 +0.25331 +0.43196 +0.26456 -0.26024 +0.12246 -0.16811 +0.05299 +0.94465 +0.97289 +1.11200 +1.02039 +0.32558 -2.07130 -0.09822 -0.78363 +0.46927 +0.35242 }"
export GOF_MODE_1="{ +0.80500 +0.22574 +0.11223 +0.37931 +1.27604 +4.22584 +0.22670 +0.37811 -4.71053 +0.85963 +1.15781 +0.24794 +0.37466 +0.58838 +4.30931 -0.01995 +0.10723 +0.00857 +0.95668 +0.96964 +1.07622 +0.95983 +0.32962 -2.08269 +0.04337 -0.95241 +0.34203 +0.35312 }"

# results
export GOF_MODE_0="{ 0.817195 0.225506 0.1319 0.382563 1.26764 4.18899 0.227598 0.380565 -4.75274 0.848049 1.13305 0.252125 0.487901 0.253597 -0.369 0.00737438 0.0022403 0.019142 0.932029 1.00465 1.10947 1.08491 0.326697 -2.02199 -0.0555815 -0.821655 0.44301 0.350469 }" # log(posterior) = 625.4921707
export GOF_MODE_1="{ 0.815318 0.225492 0.116861 0.377191 1.2713 4.19221 0.226938 0.385187 -4.68519 0.8439 1.09736 0.247881 0.462884 0.588613 4.51196 0.00342455 -0.0144417 0.0123676 1.00547 0.974838 1.09203 1.06431 0.33013 -1.97122 0.00798145 -0.996312 0.448304 0.350272 }" # log(posterior) = 623.856892

main $@
